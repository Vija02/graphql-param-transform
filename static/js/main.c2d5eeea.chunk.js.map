{"version":3,"sources":["containers/Root.js","index.js"],"names":["Root","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","input","filters","onFilterChange","bind","assertThisInitialized","prevProps","prevState","getFilters","setState","event","name","target","indexOf","filter","val","concat","toConsumableArray","_this2","react_default","a","createElement","style","display","flexDirection","height","value","onChange","e","flex","margin","getParam","readOnly","getParentParam","map","i","key","type","checked","Component","validLineRegex","reduceRemoveIfFalse","acc","parseInput","split","line","match","reduce","join","ReactDOM","render","Root_Root","document","getElementById"],"mappings":"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","file":"static/js/main.c2d5eeea.chunk.js","sourcesContent":["import React, { Component } from 'react'\n\nconst exampleInput = `id: Int\ntransactionId: Int\nstoreId: Int!\ntransactionDate: Datetime!\ntotalQuantity: Int!\ncreatedAt: Datetime\nupdatedAt: Datetime\n`\n\nexport default class Root extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = { input: '', filters: [] }\n\n\t\tthis.onFilterChange = this.onFilterChange.bind(this)\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (prevState.input !== this.state.input) {\n\t\t\tconst filters = getFilters(this.state.input)\n\t\t\tthis.setState({ filters })\n\t\t}\n\t}\n\n\tonFilterChange(event) {\n\t\tconst name = event.target.name\n\n\t\tif (this.state.filters.indexOf(name) > -1) {\n\t\t\t// If Checked\n\t\t\tthis.setState({ filters: this.state.filters.filter(val => val !== name) })\n\t\t} else {\n\t\t\tthis.setState({ filters: [...this.state.filters, name] })\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h3>Paste the Schema on the left panel</h3>\n\t\t\t\t<p>Example Input:</p>\n\t\t\t\t<code>\n\t\t\t\t\t<pre>{exampleInput}</pre>\n\t\t\t\t</code>\n\t\t\t\t<div style={{ display: 'flex', flexDirection: 'row', height: '50vh' }}>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tvalue={this.state.input}\n\t\t\t\t\t\tonChange={e => {\n\t\t\t\t\t\t\tthis.setState({ input: e.target.value })\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={{ flex: '1 1 0' }}\n\t\t\t\t\t/>\n\t\t\t\t\t<div style={{ flex: '1 1 0', display: 'flex', flexDirection: 'column' }}>\n\t\t\t\t\t\t<h4 style={{ margin: 0 }}>Param</h4>\n\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\tstyle={{ flex: '1 1 0' }}\n\t\t\t\t\t\t\tvalue={getParam(this.state.input, this.state.filters || [])}\n\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<h4 style={{ margin: 0 }}>Parent Param</h4>\n\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\tstyle={{ flex: '1 1 0' }}\n\t\t\t\t\t\t\tvalue={getParentParam(this.state.input, this.state.filters || [])}\n\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<h2>Filter</h2>\n\t\t\t\t\t<div style={{ display: 'flex', flexDirection: 'column' }}>\n\t\t\t\t\t\t{getFilters(this.state.input).map((name, i) => (\n\t\t\t\t\t\t\t<label key={`filter_${i}`}>\n\t\t\t\t\t\t\t\t{name}\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tonChange={this.onFilterChange}\n\t\t\t\t\t\t\t\t\tchecked={this.state.filters.indexOf(name) > -1}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst validLineRegex = /(.+): (.+)!?/\n\nconst reduceRemoveIfFalse = (acc, val) => (!!val ? [...acc, val] : acc)\n\nconst parseInput = input => {\n\treturn input\n\t\t.split('\\n')\n\t\t.map(line => {\n\t\t\tconst match = line.match(validLineRegex)\n\n\t\t\treturn match || false\n\t\t})\n\t\t.reduce(reduceRemoveIfFalse, [])\n}\n\nconst getParam = (input, filter) => {\n\treturn parseInput(input)\n\t\t.filter(match => filter.indexOf(match[1]) > -1)\n\t\t.map(match => `${match[1]}: $${match[1]}`)\n\t\t.join(`, `)\n}\n\nconst getParentParam = (input, filter) => {\n\treturn parseInput(input)\n\t\t.filter(match => filter.indexOf(match[1]) > -1)\n\t\t.map(match => `$${match[1]}: ${match[2]}`)\n\t\t.join(`, `)\n}\n\nconst getFilters = input => {\n\treturn parseInput(input).map(match => match[1])\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\n\nimport Root from 'containers/Root'\n\nReactDOM.render(<Root />, document.getElementById('root'))"],"sourceRoot":""}